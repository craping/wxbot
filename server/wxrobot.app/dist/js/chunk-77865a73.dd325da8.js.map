{"version":3,"sources":["webpack:///./src/views/home/index.vue?6c64","webpack:///./src/views/home/home.js","webpack:///./src/views/home/home.js?a92e","webpack:///./src/views/home/index.vue","webpack:///./src/views/home/index.vue?f49b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","padding","attrs","placeholder","show-action","on","clear","getContacts","search","onSearch","model","value","callback","$$v","keyword","expression","slot","click","_v","finished","finished-text","load","loading","_l","item","index","white-space","is-link","$event","goSetting","seq","staticClass","src","headImgUrl","mm-src","alt","title","domProps","innerHTML","_s","nickName","staticRenderFns","homevue_type_script_lang_js_","components","Toast","footerNav","data","chatRooms","token","mounted","getParams","window","location","href","token_m","methods","_this","filter","e","indexOf","trim","$config","active","$router","push","path","query","_this2","length","forbidClick","duration","message","$http","post","then","response","result","fail","msg","info","setTimeout","catch","error","console","log","home_homevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_450bd1a2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_450bd1a2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-77865a73.dd325da8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticStyle:{\"padding\":\"0px 0px 5px\"}},[_c('van-search',{attrs:{\"placeholder\":\"请输入群名称关键字...\",\"show-action\":\"\"},on:{\"clear\":_vm.getContacts,\"search\":_vm.onSearch},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}},[_c('div',{attrs:{\"slot\":\"action\"},on:{\"click\":_vm.onSearch},slot:\"action\"},[_vm._v(\"搜索\")])])],1),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.getContacts},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.chatRooms),function(item,index){return _c('van-cell',{staticStyle:{\"white-space\":\"nowrap\"},attrs:{\"value\":\"\",\"is-link\":\"\"},on:{\"click\":function($event){return _vm.goSetting(item.seq)}}},[_c('template',{slot:\"title\"},[_c('div',{staticClass:\"img_div\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.headImgUrl,\"mm-src\":\"\",\"alt\":\"\",\"title\":\"\"}})]),_c('div',{staticClass:\"info_div\",domProps:{\"innerHTML\":_vm._s(item.nickName)}})])],2)}),1),_c('footerNav')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Toast } from 'vant';\r\nimport footerNav from '@/components/nav/footer-nav'\r\nimport { getParams } from '@/libs/util'\r\nexport default {\r\n    components: {\r\n        Toast,\r\n        footerNav\r\n    },\r\n    data() {\r\n        return {\r\n            keyword: '',\r\n            chatRooms: [],\r\n            loading: true,\r\n            finished: false,\r\n            token: ''\r\n        }\r\n    },\r\n    mounted() {\r\n        this.token = getParams(window.location.href).token_m;\r\n        this.getContacts();\r\n    },\r\n    methods: {\r\n        onSearch() {\r\n            this.chatRooms = this.chatRooms.filter(e => \r\n                e.nickName.indexOf(this.keyword.trim()) >= 0\r\n            );\r\n        },\r\n        goSetting(seq) {\r\n            this.$config.active = null;\r\n            this.$router.push({\r\n                path: '/setting',\r\n                query: {\r\n                    seq: seq,\r\n                    token_m: this.token\r\n                }\r\n            })\r\n        },\r\n        getContacts() {\r\n            if (this.$config.chatRooms.length) {\r\n                this.chatRooms = this.$config.chatRooms;\r\n                this.loading = false;\r\n                this.finished = true;\r\n                return;\r\n            }\r\n            Toast.loading({\r\n                forbidClick: true,\r\n                duration: 0,\r\n                message: '正在请求...'\r\n            });\r\n            this.$http.post(\"/contact/getContacts?format=json\", {token: this.token}).then(response => {\r\n                const data = response.data;\r\n                if (!data.result) {\r\n                    this.chatRooms = this.$config.chatRooms = data.data.info;\r\n                    setTimeout(() => {\r\n                        Toast('加载群列表成功');\r\n                    }, 500);\r\n                    this.loading = false;\r\n                    this.finished = true;\r\n                } else {\r\n                    Toast.fail(data.msg);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n        }\r\n    }\r\n}","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./home.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./home.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=450bd1a2&scoped=true&\"\nimport script from \"./home.js?vue&type=script&lang=js&\"\nexport * from \"./home.js?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=450bd1a2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"450bd1a2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=450bd1a2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=450bd1a2&scoped=true&lang=css&\""],"sourceRoot":""}