(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77865a73"],{"1e54":function(t,o,n){},"7abe":function(t,o,n){"use strict";n.r(o);var i=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("section",[n("div",{staticStyle:{padding:"0px 0px 5px"}},[n("van-search",{attrs:{placeholder:"请输入群名称关键字...","show-action":""},on:{clear:t.getContacts,search:t.onSearch},model:{value:t.keyword,callback:function(o){t.keyword=o},expression:"keyword"}},[n("div",{attrs:{slot:"action"},on:{click:t.onSearch},slot:"action"},[t._v("搜索")])])],1),n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.getContacts},model:{value:t.loading,callback:function(o){t.loading=o},expression:"loading"}},t._l(t.chatRooms,function(o,i){return n("van-cell",{staticStyle:{"white-space":"nowrap"},attrs:{value:"","is-link":""},on:{click:function(n){return t.goSetting(o.seq)}}},[n("template",{slot:"title"},[n("div",{staticClass:"img_div"},[n("img",{staticClass:"avatar",attrs:{src:o.headImgUrl,"mm-src":"",alt:"",title:""}})]),n("div",{staticClass:"info_div",domProps:{innerHTML:t._s(o.nickName)}})])],2)}),1),n("footerNav")],1)},e=[],a=n("b970"),s=n("5b59"),c=n("c276"),r={components:{Toast:a["e"],footerNav:s["a"]},data:function(){return{keyword:"",chatRooms:[],loading:!0,finished:!1,token:""}},mounted:function(){this.token=Object(c["c"])(window.location.href).token_m,this.getContacts()},methods:{onSearch:function(){var t=this;this.chatRooms=this.chatRooms.filter(function(o){return o.nickName.indexOf(t.keyword.trim())>=0})},goSetting:function(t){this.$config.active=null,this.$router.push({path:"/setting",query:{seq:t,token_m:this.token}})},getContacts:function(){var t=this;if(this.$config.chatRooms.length)return this.chatRooms=this.$config.chatRooms,this.loading=!1,void(this.finished=!0);a["e"].loading({forbidClick:!0,duration:0,message:"正在请求..."}),this.$http.post("/contact/getContacts?format=json",{token:this.token}).then(function(o){var n=o.data;n.result?a["e"].fail(n.msg):(t.chatRooms=t.$config.chatRooms=n.data.info,setTimeout(function(){Object(a["e"])("加载群列表成功")},500),t.loading=!1,t.finished=!0)}).catch(function(t){console.log(t)})}}},l=r,h=(n("d7ae"),n("2877")),d=Object(h["a"])(l,i,e,!1,null,"450bd1a2",null);o["default"]=d.exports},d7ae:function(t,o,n){"use strict";var i=n("1e54"),e=n.n(i);e.a}}]);
//# sourceMappingURL=chunk-77865a73.dd325da8.js.map