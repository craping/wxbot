(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16711fc4"],{"32a6":function(t,i,e){var n=e("241e"),a=e("c3a1");e("ce7e")("keys",function(){return function(t){return a(n(t))}})},3302:function(t,i,e){},"355d":function(t,i){i.f={}.propertyIsEnumerable},"386d":function(t,i,e){"use strict";var n=e("cb7c"),a=e("83a1"),o=e("5f1b");e("214f")("search",1,function(t,i,e,s){return[function(e){var n=t(this),a=void 0==e?void 0:e[i];return void 0!==a?a.call(e,n):new RegExp(e)[i](String(n))},function(t){var i=s(e,t,this);if(i.done)return i.value;var r=n(t),c=String(this),l=r.lastIndex;a(l,0)||(r.lastIndex=0);var u=o(r,c);return a(r.lastIndex,l)||(r.lastIndex=l),null===u?-1:u.index}]})},5176:function(t,i,e){t.exports=e("51b6")},"51b6":function(t,i,e){e("a3c3"),t.exports=e("584a").Object.assign},"83a1":function(t,i){t.exports=Object.is||function(t,i){return t===i?0!==t||1/t===1/i:t!=t&&i!=i}},"8aae":function(t,i,e){e("32a6"),t.exports=e("584a").Object.keys},9306:function(t,i,e){"use strict";var n=e("c3a1"),a=e("9aa9"),o=e("355d"),s=e("241e"),r=e("335c"),c=Object.assign;t.exports=!c||e("294c")(function(){var t={},i={},e=Symbol(),n="abcdefghijklmnopqrst";return t[e]=7,n.split("").forEach(function(t){i[t]=t}),7!=c({},t)[e]||Object.keys(c({},i)).join("")!=n})?function(t,i){var e=s(t),c=arguments.length,l=1,u=a.f,p=o.f;while(c>l){var f,d=r(arguments[l++]),h=u?n(d).concat(u(d)):n(d),v=h.length,m=0;while(v>m)p.call(d,f=h[m++])&&(e[f]=d[f])}return e}:c},"9aa9":function(t,i){i.f=Object.getOwnPropertySymbols},a3c3:function(t,i,e){var n=e("63b6");n(n.S+n.F,"Object",{assign:e("9306")})},a4bb:function(t,i,e){t.exports=e("8aae")},ce7e:function(t,i,e){var n=e("63b6"),a=e("584a"),o=e("294c");t.exports=function(t,i){var e=(a.Object||{})[t]||Object[t],s={};s[t]=i(e),n(n.S+n.F*o(function(){e(1)}),"Object",s)}},dc5d:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("van-nav-bar",{attrs:{title:t.$route.meta.title,"left-text":"返回","left-arrow":""},on:{"click-left":t.goback}})},a=[],o={name:"topNav",data:function(){return{}},methods:{goback:function(){this.$router.go(-1)}}},s=o,r=e("2877"),c=Object(r["a"])(s,n,a,!1,null,"2fe8c154",null);i["a"]=c.exports},f0f2:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("section",[e("topNav"),e("van-radio-group",{model:{value:t.radio,callback:function(i){t.radio=i},expression:"radio"}},[e("van-cell-group",[e("van-cell",{attrs:{title:"文本",clickable:""},on:{click:function(i){t.radio="1"}}},[e("van-radio",{attrs:{name:"1"}})],1),e("van-cell",{attrs:{title:"文件",clickable:""},on:{click:function(i){t.radio="2"}}},[e("van-radio",{attrs:{name:"2"}})],1)],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.radio,expression:"radio=='1'"}],staticStyle:{"margin-bottom":"10px","max-height":"600px",overflow:"hidden"}},[e("van-field",{attrs:{type:"textarea",autosize:{maxHeight:200,minHeight:150},clearable:"",placeholder:"请输入内容..."},model:{value:t.tipsTxt,callback:function(i){t.tipsTxt=i},expression:"tipsTxt"}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"2"==t.radio,expression:"radio=='2'"}],staticClass:"uploader",attrs:{onclick:"document.getElementById('hiddenFile').click();"}},[e("div",{staticClass:"ivu-icon"},[e("van-icon",{attrs:{name:"upgrade"}}),e("input",{ref:"uploader",staticStyle:{display:"none"},attrs:{multiple:"multiple",type:"file",id:"hiddenFile"},on:{change:t.onRead}})],1),e("p",{staticStyle:{color:"rgb(51, 153, 255)"}},[t._v("点击上传文件")])]),t.imageVal&&"2"==t.radio?e("div",{on:{click:t.showImg}},[e("van-icon",{staticClass:"img_icon",attrs:{name:"photo-o",size:"35px"}}),e("span",{staticClass:"custom-text",staticStyle:{display:"inline-block","padding-left":"5px"}},[t._v("\r\n            点击查看图片详情\r\n        ")])],1):"2"==t.radio?e("span",{staticClass:"custom-text file_txt"},[t._v("\r\n        "+t._s(t.tipFileName)+"\r\n    ")]):t._e(),e("van-button",{attrs:{size:"large",type:"info",loading:t.loading},on:{click:t.setTpis}},[t._v("确定提交")]),e("footerNav")],1)},a=[],o=(e("386d"),e("7f7f"),e("a4bb")),s=e.n(o),r=e("5176"),c=e.n(r),l=e("dc5d"),u=e("5b59"),p=e("b970"),f={components:{topNav:l["a"],footerNav:u["a"]},data:function(){return{tipType:"",tipsTxt:null,tipFile:{},tipFileName:"",tips:{chatRoomFoundTip:{},memberJoinTip:{},memberLeftTip:{}},radio:"1",imageVal:null,loading:!1,token:""}},watch:{$router:"getParams"},created:function(){this.getParams()},mounted:function(){this.loadTips()},methods:{initTips:function(){this.tips=c()(this.tips,this.$config.setting.tips);var t=this.tips[""+this.tipType];s()(t).length&&(this.tipsTxt=t.content,1!=t.type&&(this.radio="2"),2==t.type&&(this.imageVal=t.content),"2"==this.radio&&(this.tipFileName=t.content))},loadTips:function(){var t=this;s()(this.$config.setting).length?this.initTips():this.$http.post("setting/getSetting?format=json",{token:this.token}).then(function(i){var e=i.data;e.result?p["e"].fail(e.msg):(t.$config.setting=e.data.info,t.initTips())}).catch(function(t){console.log(t)})},showImg:function(){Object(p["b"])([""+this.imageVal])},onRead:function(t){var i=this.$refs.uploader,e=i.files[0];if(void 0!=e){this.imageVal=null;var n=Math.floor(e.size/1024);if(n>81920)return Object(p["e"])("请选择80M以内的文件！"),!1;if(this.tipFile=e,this.tipsTxt=e.name,this.tipFileName=e.name,-1!=e.type.search("image/")){var a=this;if(!t||!window.FileReader)return;var o=new FileReader;o.readAsDataURL(e),o.onloadend=function(){a.imageVal=this.result}}}},getParams:function(){this.tipType=this.$route.query.tipType,this.$route.meta.title=this.$route.query.title,this.token=this.$route.query.token_m},setTpis:function(){var t=this;if(this.tipsTxt==this.tips[""+this.tipType].content)return Object(p["e"])("操作成功！"),void setTimeout(function(){c()(t.$data,t.$options.data()),t.$router.go(-1)},1e3);this.loading=!0;var i=new FormData;i.append("token",this.token),i.append("tipType",this.tipType),i.append("content","1"==this.radio?this.tipsTxt:this.tipFile),this.$http.post("setting/setTips?format=json",i).then(function(i){var e=i.data;t.loading=!1,e.result?p["e"].fail(e.msg):(t.$config.setting.tips=e.data.info,Object(p["e"])(e.msg),setTimeout(function(){c()(t.$data,t.$options.data()),t.$router.go(-1)},1e3))}).catch(function(i){t.loading=!1,console.log(i)})}}},d=f,h=(e("fa09"),e("2877")),v=Object(h["a"])(d,n,a,!1,null,"6b75af3e",null);i["default"]=v.exports},fa09:function(t,i,e){"use strict";var n=e("3302"),a=e.n(n);a.a}}]);
//# sourceMappingURL=chunk-16711fc4.ec272e1e.js.map